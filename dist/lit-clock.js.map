{"version":3,"file":"lit-clock.js","sources":["../packages/rux-utils/datetime.js","../packages/lit-clock/lit-clock.js"],"sourcesContent":["export default class {\n  constructor() {}\n\n  static get properties() {\n    return {\n      oneDay: 86400000,\n    };\n  }\n\n  static dayOfYear(timezone = 'utc') {\n    const now = timezone === 'utc' ? this.utcDate() : new Date();\n    const year = timezone === 'utc' ? new Date(now.getFullYear(), 0, 1) : new Date(now.getUTCFullYear(), 0, 1);\n\n    const day = Math.ceil((now - year) / this.properties.oneDay);\n\n    return day.toString().padStart(3, '000');\n  }\n\n  static utcDate(date = new Date()) {\n    return new Date(\n        date.getFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds()\n    );\n  }\n\n  static formatTime(\n      time = new Date(),\n      locale = 'us-en',\n      options = {hour12: false, timeZone: 'UTC', timeZoneName: 'short'}\n  ) {\n    return new Date(time).toLocaleTimeString(locale, options);\n  }\n}\n","import { LitElement, html, css } from 'lit-element';\nimport style from './lit-clock.css';\nimport RuxUtils from '../rux-utils/datetime.js';\n\n/** Class representing a single Clock instance. */\nexport class LitClock extends LitElement {\n  static get properties() {\n    return {\n      aos: {\n        type: Date,\n      },\n      los: {\n        type: Date,\n      },\n      timezone: {\n        type: String,\n      },\n      locale: {\n        type: String,\n      },\n      hideTimezone: {\n        type: Boolean,\n      },\n      hideDate: {\n        type: Boolean,\n      },\n      time: {\n        type: String,\n        reflect: true,\n      },\n      dayOfYear: {\n        type: String,\n        reflect: true,\n      },\n    };\n  }\n\n  constructor() {\n    super();\n\n    this.timezone = 'UTC';\n    this.locale = 'us-en';\n    this.hideTimezone = true;\n    this.hideDate = false;\n\n    this.timeOptions = {\n      hour12: false,\n      timeZone: this.timezone,\n      timeZoneName: 'short',\n    };\n\n    this.updateTime();\n  }\n\n  /*\n    Lifecycle hooks should occur after the constructor and before custom methods\n  */\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._timer = setInterval(() => {\n      this.updateTime();\n    }, 1000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearTimeout(this._timer);\n  }\n\n  /*\n    Public functions should occur after lifecycle hooks\n  */\n\n  /*\n    Private functions should occur after public functions\n  */\n  updateTime() {\n    this.time = RuxUtils.formatTime(new Date(), this.locale, this.timeOptions);\n    this.dayOfYear = RuxUtils.dayOfYear();\n  }\n\n  /*\n    Template and styles blocks should appear as the very last code blocks\n  */\n  render() {\n    return html`\n      ${!this.hideDate\n        ? html`\n            <div class=\"rux-clock__segment rux-clock__day-of-the-year\">\n              <div class=\"rux-clock__segment__value\" aria-labeledby=\"rux-clock__day-of-year-label\">\n                ${this.dayOfYear}\n              </div>\n              <div class=\"rux-clock__segment__label\" id=\"rux-clock__day-of-year-label\">Date</div>\n            </div>\n          `\n        : ''}\n\n      <div class=\"rux-clock__segment rux-clock__time\">\n        <div class=\"rux-clock__segment__value\" aria-labeledby=\"rux-clock__time-label\">\n          ${this.time}\n        </div>\n        <div class=\"rux-clock__segment__label\" id=\"rux-clock__time-label\">\n          Time\n        </div>\n      </div>\n\n      ${this.aos\n        ? html`\n            <div class=\"rux-clock__segment rux-clock__segment--secondary rux-clock__aos\">\n              <div class=\"rux-clock__segment__value\" aria-labeledby=\"rux-clock__time-label\">\n                ${RuxUtils.formatTime(this.aos, this.locale, this.timeOptions)}\n              </div>\n              <div class=\"rux-clock__segment__label\" id=\"rux-clock__time-label\">\n                AOS\n              </div>\n            </div>\n          `\n        : ''}\n      ${this.los\n        ? html`\n            <div class=\"rux-clock__segment rux-clock__segment--secondary rux-clock__los\">\n              <div class=\"rux-clock__segment__value\" aria-labeledby=\"rux-clock__time-label\">\n                ${RuxUtils.formatTime(this.los, this.locale, this.timeOptions)}\n              </div>\n              <div class=\"rux-clock__segment__label\" id=\"rux-clock__time-label\">\n                LOS\n              </div>\n            </div>\n          `\n        : ''}\n    `;\n  }\n\n  /* uses the lit-scss-loader to import external CSS */\n  static get styles() {\n    return css`\n      ${style}\n    `;\n  }\n}\ncustomElements.define('lit-clock', LitClock);\n"],"names":["constructor","properties","oneDay","dayOfYear","timezone","now","utcDate","Date","year","getFullYear","getUTCFullYear","day","Math","ceil","toString","padStart","date","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","formatTime","time","locale","options","hour12","timeZone","timeZoneName","toLocaleTimeString","LitClock","LitElement","aos","type","los","String","hideTimezone","Boolean","hideDate","reflect","timeOptions","updateTime","connectedCallback","_timer","setInterval","disconnectedCallback","clearTimeout","RuxUtils","render","html","styles","css","style","customElements","define"],"mappings":"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"}